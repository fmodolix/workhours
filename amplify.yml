version: 1
backend:
  phases:
    build:
      commands:
        # Build the Docker image and tag it with the service name 'workhours'
        - docker build -t workhours .
  artifacts:
    image:
      # The name of the image we just built
      name: workhours
      port: 8080
frontend:
  phases:
    build:
      commands:
        - echo "No frontend build required"
  artifacts:
    baseDirectory: /
    files:
      - swagger-ui.html
# The customRules section is essential for routing incoming traffic to your container.
customRules:
  - source: '</.*>'
    target: 'http://workhours:8080'
    status: '200'
